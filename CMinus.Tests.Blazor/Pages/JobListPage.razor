@inherits LocalComponentBase

@inject IJobListApp App

@page "/joblist"

<PageTitle>Task list sample</PageTitle>

<MiniInfo Name="@nameof(JobListPage)" DateTime="@DateTime.Now" />

<button class="btn btn-primary" @onclick="jobList.AddSimpleJobCommand.Execute">Add simple job</button>
<button class="btn btn-primary" @onclick="jobList.AddComplexJobCommand.Execute">Add complex job</button>
<button class="btn btn-warning" @onclick="jobList.CancelCommand.Execute">Cancel job</button>

<div class="mt-4">
    @foreach (var job in jobList.Items)
    {
        <JobView Job="@job" />
    }
</div>

@code {
    IJobList jobList = default!;

    protected override void OnInitialized()
    {
        jobList = App.CreateDefaultJobList();
    }
}
